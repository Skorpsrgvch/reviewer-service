# Reviewer Service ‚Äî –°–µ—Ä–≤–∏—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —Ä–µ–≤—å—é–µ—Ä–æ–≤ –Ω–∞ Pull Request'—ã

–≠—Ç–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–µ–≤—å—é–µ—Ä–æ–≤ –Ω–∞ Pull Request‚Äô—ã –∏–∑ –∫–æ–º–∞–Ω–¥—ã –∞–≤—Ç–æ—Ä–∞, –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–µ–≤—å—é–≤–µ—Ä–æ–≤ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ PR‚Äô–æ–≤, –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞ Go + PostgreSQL, —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ HTTP API, –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `docker-compose`.

---

## üß© –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- –Ø–∑—ã–∫: **Go 1.23**
- –ë–î: **PostgreSQL**
- –í–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫: **Gin**
- –ú–∏–≥—Ä–∞—Ü–∏–∏: **golang-migrate**
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è: **Docker + docker-compose**

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker –∏ Docker Compose
- PowerShell –∏–ª–∏ bash (–¥–ª—è —Ç–µ—Å—Ç–æ–≤)

### –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞

```bash
# –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/Skorpsrgvch/reviewer-service.git
cd reviewer-service

# –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–∏—Å
docker-compose up --build -d

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
curl http://localhost:8080/stats
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: {"assignments":{}}
```
---

## üìú API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

**–°–æ–∑–¥–∞—Ç—å –∫–æ–º–∞–Ω–¥—É**:

POST /team/add

**–ü–æ–ª—É—á–∏—Ç—å –∫–æ–º–∞–Ω–¥—É**:

GET /team/get?team_name=...

**–ò–∑–º–µ–Ω–∏—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**:

POST /users/setIsActive

**–ü–æ–ª—É—á–∏—Ç—å PR, –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é**:

GET /users/getReview?user_id=...

**–°–æ–∑–¥–∞—Ç—å PR (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–∑–Ω–∞—á–∞–µ—Ç —Ä–µ–≤—å—é–µ—Ä–æ–≤)**:

POST /pullRequest/create

**–°–ª–∏—Ç—å PR (–ø–æ—Å–ª–µ merge ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–µ—â–µ–Ω—ã)**:

POST /pullRequest/merge

**–ü–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–∏—Ç—å –æ–¥–Ω–æ–≥–æ —Ä–µ–≤—å—é–µ—Ä–∞**:

POST /pullRequest/reassign

**–ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è–º**:

GET /stats

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
cmd/
‚îú‚îÄ‚îÄ reviewer-service/
‚îÇ   ‚îî‚îÄ‚îÄ main.go           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
internal/
‚îú‚îÄ‚îÄ handler/              # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ HTTP
‚îú‚îÄ‚îÄ model/                # –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ repository/postgres/  # –†–∞–±–æ—Ç–∞ —Å –ë–î
‚îú‚îÄ‚îÄ service/              # –õ–æ–≥–∏–∫–∞ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤
migrations/               # SQL-–º–∏–≥—Ä–∞—Ü–∏–∏
pkg/db/                   # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
docker-compose.yml        # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
Dockerfile                # –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
load-test.ps1             # –°–∫—Ä–∏–ø—Ç –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
README.md                 # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```
---

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å

- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è graceful shutdown.
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –ø–µ—Ä–µ–¥ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏.
- –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å merge.

---

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è

## üìä –≠–Ω–¥–ø–æ–∏–Ω—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

–°–µ—Ä–≤–∏—Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Å—Ç–æ–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö —Ä–µ–≤—å—é–µ—Ä–æ–≤:

- –ú–µ—Ç–æ–¥: GET
- –ü—É—Ç—å: /stats
- –û—Ç–≤–µ—Ç: JSON —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∞–∫—Ç–∏–≤–Ω—ã—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É—á–∏—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ—Ç–∫—Ä—ã—Ç—ã–µ **Pull Request‚Äô—ã** ‚Äî –ø–æ—Å–ª–µ —Å–ª–∏—è–Ω–∏—è (MERGED) –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ—Å—Ç–∞—é—Ç —É—á–∏—Ç—ã–≤–∞—Ç—å—Å—è.

**–ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã**

**–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –æ–¥–Ω–æ–≥–æ Pull Request‚Äô–∞**
–û—Ç–≤–µ—Ç –ø—É—Å—Ç–æ–π ‚Äî –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π:

<img width="593" height="249" alt="image" src="https://github.com/user-attachments/assets/a627eb72-17c9-42dd-be0d-08c8df31c855" />


**–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö Pull Request‚Äô–æ–≤**

–í–∏–¥–Ω–æ, —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –∫–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∑–Ω–∞—á–µ–Ω –Ω–∞ —Ä–µ–≤—å—é:

<img width="549" height="244" alt="image" src="https://github.com/user-attachments/assets/b24596f9-b499-4440-ad7c-1b86175ef538" />

**–ü–æ—Å–ª–µ merge**

<img width="583" height="237" alt="image" src="https://github.com/user-attachments/assets/8e423ed5-6239-43b1-95f3-db4a015c0bb1" />


---

### üìä –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—ã–ø–æ–ª–Ω–µ–Ω —Ç–µ—Å—Ç, —ç–º—É–ª–∏—Ä—É—é—â–∏–π –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã —Å Pull Request'–æ–º:
1. –°–æ–∑–¥–∞–Ω–∏–µ PR (—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ–º —Ä–µ–≤—å—é–µ—Ä–æ–≤)
2. –ü–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –∏–∑ —Ä–µ–≤—å—é–µ—Ä–æ–≤
3. –°–ª–∏—è–Ω–∏–µ PR

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã (50 PR):**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ: 50/50 —É—Å–ø–µ—à–Ω—ã—Ö (~135 RPS)
- ‚úÖ –°–ª–∏—è–Ω–∏–µ: 50/50 —É—Å–ø–µ—à–Ω—ã—Ö
- ‚ö†Ô∏è –ü–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –≤—ã–±–æ—Ä–æ—á–Ω–æ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —Ä–µ–≤—å—é–µ—Ä–æ–≤)

–í—ã–ø–æ–ª–Ω–µ–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

‚úÖ **50 PR –∑–∞ 0.37 —Å–µ–∫ ‚Üí ~135 RPS**

‚úÖ **–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: 19 –º—Å (—Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ: ‚â§ 300 –º—Å)**

‚úÖ **–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª PR (create ‚Üí reassign ‚Üí merge): 19 –º—Å**

‚úÖ **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ /stats –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**


–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ —Ñ–∞–π–ª–µ load-test-results.txt .

---
